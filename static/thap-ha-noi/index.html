<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Thap Ha Noi (c) 2010 Katatunix</title>
<script src="main.js"></script>
</head>

<body>
<h2>Tháp Hà Nội (c) 2010 Katatunix</h2>
<label><strong>Chọn số đĩa</strong>
<select id="NumberDia" onchange="replay()">
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
  <option value="8">8</option>
  <option value="9">9</option>
  <option value="10">10</option>
</select>
</label>
<label><strong>Chọn màu sắc</strong>
<select id="NewColor" onchange="changeColor()">
  <option value="red">Red</option>
  <option value="green">Green</option>
  <option value="blue">Blue</option>
  <option value="brown">Brown</option>
</select>
</label>
<input type="button" value="Chơi lại" onclick="replay()" />
<br />
<br />
<label>Số lần chuyển tối ưu: <strong id="MinPath">&nbsp;</strong></label>
<br />
<label>Số lần chuyển hiện tại: <strong id="CurPath">&nbsp;</strong></label>
<script>
// function Game(aPosX, aPosY, aNumberDia, aDiaColor, aMaxWidthDia, aDiaHeight, aDiaBetween, aCocBetween)
var POS_X = 100;
var POS_Y = 150;
var NUMBER_DIA = 3;
var DIA_COLOR = "red";
var MAX_WIDTH_DIA = 250;
var DIA_HEIGHT = 26;
var DIA_BETWEEN = 5;
var COC_BETWEEN = 20;

var game = new Game(POS_X, POS_Y, NUMBER_DIA, DIA_COLOR, MAX_WIDTH_DIA, DIA_HEIGHT, DIA_BETWEEN, COC_BETWEEN);
document.getElementById("MinPath").firstChild.data = lt2(NUMBER_DIA) - 1;
document.getElementById("CurPath").firstChild.data = 0;
document.body.appendChild(game.mDOMElement);

function replay()
{
	var numberDia = document.getElementById("NumberDia").selectedIndex + 3;
	document.body.removeChild(game.mDOMElement);
	var newColor = document.getElementById("NewColor").value;
	game = new Game(POS_X, POS_Y, numberDia, newColor, MAX_WIDTH_DIA, DIA_HEIGHT, DIA_BETWEEN, COC_BETWEEN);
	document.body.appendChild(game.mDOMElement);
	
	document.getElementById("MinPath").firstChild.data = lt2(numberDia) - 1;
	document.getElementById("CurPath").firstChild.data = 0;
}

function changeColor()
{
	var newColor = document.getElementById("NewColor").value;
	for (var i = 0; i < game.mNumberDia; i++)
	{
		game.mArrayDia[i].mDOMElement.style.backgroundColor = newColor;
	}
}

function lt2(n)
{
	var s = 1;
	for (var i = 1; i <= n; i++)
	{
		s = s * 2;
	}
	return s;
}
</script>

</body>
</html>
